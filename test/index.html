<!DOCTYPE html>
<html lang="pl" data-color-scheme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="game_title">Korposzczur</title>
    <link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="buildings-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="game-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-title-container">
                    <img src="korposzczur-logo.png" alt="Korposzczur Logo" class="korpo-logo">
                    <h1 class="game-title" data-translate="game_title">Korposzczur</h1>
                </div>

                <div class="currency-display">
                    <div class="currency-item">
                        <div class="currency-label" data-translate="biuro_punkty">Biuro-Punkty</div>
                        <div class="currency-value" id="bp-display">0</div>
                    </div>
                    <div class="currency-item">
                        <div class="currency-label" data-translate="soft_skills">Soft Skills</div>
                        <div class="currency-value" id="ss-display">0</div>
                    </div>
                    <div class="currency-item energy-dropdown">
                        <button id="energy-button" class="energy-btn">
                            <span id="energy-display">100/100</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div id="energy-menu" class="energy-menu">
                            <button class="energy-option" data-skill="coffeeBreak">‚òï Coffee Break (25 Energy)</button>
                            <button class="energy-option" data-skill="focusMode">üéØ Focus Mode (40 Energy)</button>
                            <button class="energy-option" data-skill="overtime">‚è∞ Overtime (60 Energy)</button>
                            <hr>
                            <button class="energy-option" id="watch-ad-option">üì∫ Watch Ad (+20 Energy)</button>
                        </div>
                    </div>
                </div>

                <div class="header-buttons">
                    <button class="btn btn--sm help-btn" id="help-toggle" data-translate="help" title="Help">
                        <i class="fas fa-question-circle"></i>
                    </button>
                    <button class="btn btn--sm settings-btn" id="settings-toggle" data-translate="settings" title="Settings">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Quote Marquee -->
        <div class="quote-marquee">
            <div class="quote-text" id="quote-text">Loading corporate wisdom...</div>
        </div>

        <!-- Tab Navigation -->
        <nav class="tab-navigation">
            <div class="tab-container">
                <button class="tab-btn active" data-tab="career" data-translate="tab_career">Kariera</button>
                <button class="tab-btn disabled" data-tab="buildings" data-translate="tab_buildings">Budynki</button>
                <button class="tab-btn disabled" data-tab="departments" data-translate="tab_departments">Dzia≈Çy</button>
                <button class="tab-btn disabled" data-tab="desk" data-translate="tab_desk">Biurko</button>
                <button class="tab-btn disabled" data-tab="achievements" data-translate="tab_achievements">Achievementy</button>
                <button class="tab-btn disabled" data-tab="challenges" data-translate="tab_challenges">Wyzwania</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Career Tab -->
            <div id="career-tab" class="tab-content active">
                <div class="career-layout">
                    <!-- Multi-buy Controls -->
                    <div id="multibuy-controls" class="multibuy-controls hidden">
                        <span class="multibuy-label" data-translate="multibuy">Multi-buy</span>
                        <div class="multibuy-buttons">
                            <button class="multibuy-btn btn btn--sm btn--outline active" data-amount="1">1x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="2">2x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="5">5x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="10">10x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="20">20x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="50">50x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline hidden" data-amount="max" data-translate="buy_max">Max</button>
                        </div>
                    </div>

                    <!-- Auto-buyer Controls -->
                    <div id="autobuyer-controls" class="autobuyer-controls hidden">
                        <div class="autobuyer-toggle">
                            <input type="checkbox" id="autobuyer-checkbox" class="toggle-switch">
                            <label for="autobuyer-checkbox" data-translate="auto_buyer">Auto-Kupowanie</label>
                        </div>
                    </div>

                    <!-- Tasks Section -->
                    <div class="tasks-section">
                        <h2 data-translate="tab_career">Kariera</h2>
                        
                        <div id="unlock-progress" class="unlock-progress">
                            <div class="progress-label" id="unlock-progress-label" data-translate="next_unlock">Next Unlock</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="unlock-progress-bar" style="width: 0%"></div>
                            </div>
                        </div>

                        <div id="tasks-container" class="tasks-container">
                            <!-- Tasks will be dynamically generated here -->
                        </div>
                    </div>

                    <!-- Prestige Section -->
                    <div class="prestige-section">
                        <button id="prestige-btn" class="btn btn--lg btn--full-width btn--primary disabled" data-translate="prestige_ready">Wykonaj presti≈º</button>
                        <div class="prestige-info">
                            <div data-translate="prestige_warning">Uwaga. Presti≈º resetuje grƒô</div>
                        </div>
                        <div id="prestige-break-info" class="prestige-break-info hidden">
                            <div class="prestige-break-label" data-translate="prestige_break">Presti≈º Break!</div>
                            <div class="prestige-break-desc">Higher threshold, bigger rewards!</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NEW: Buildings Tab -->
            <div id="buildings-tab" class="tab-content">
                <div class="buildings-layout">
                    <div class="buildings-section">
                        <h2 data-translate="tab_buildings">Budynki</h2>
                        <div class="buildings-grid" id="buildings-container">
                            <!-- Dynamically generated building cards -->
                        </div>
                    </div>
                    
                    <div class="building-effects-section">
                        <h3 data-translate="building_effects">Efekty Budynk√≥w</h3>
                        <div id="building-effects-summary">
                            <!-- Summary of active building effects -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- NEW: Departments Tab -->
            <div id="departments-tab" class="tab-content">
                <div class="departments-layout">
                    <h2 data-translate="tab_departments">Dzia≈Çy</h2>
                    <div class="departments-grid" id="departments-container">
                        <!-- Dynamically generated department cards -->
                    </div>
                </div>
            </div>

            <!-- Desk Tab -->
            <div id="desk-tab" class="tab-content">
                <div class="desk-layout">
                    <div class="desk-container">
                        <h3 data-translate="tab_desk">Biurko</h3>
                        <!-- Desk SVG would go here -->
                        <div class="desk-placeholder">
                            <p>Your corporate desk visualization would appear here</p>
                        </div>
                    </div>
                    
                    <div class="desk-shop">
                        <h3>Shop</h3>
                        <div id="shop-items" class="shop-items">
                            <!-- Shop items will be dynamically generated here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Achievements Tab -->
            <div id="achievements-tab" class="tab-content">
                <div class="achievements-layout">
                    <h2 data-translate="tab_achievements">Achievementy</h2>
                    <div id="achievements-list" class="achievements-list">
                        <!-- Achievements will be dynamically generated here -->
                    </div>
                </div>
            </div>

            <!-- Challenges Tab -->
            <div id="challenges-tab" class="tab-content">
                <div class="challenges-layout">
                    <h2 data-translate="tab_challenges">Wyzwania</h2>
                    <div id="challenges-list" class="challenges-list">
                        <!-- Challenges will be dynamically generated here -->
                    </div>
                </div>
            </div>
        </main>

        <!-- Settings Modal -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <h3 data-translate="settings">Ustawienia</h3>
                <div class="settings-options">
                    <div class="setting-group">
                        <label class="form-label" data-translate="language">Language</label>
                        <select id="language-select" class="form-control">
                            <option value="pl">Polski</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label class="form-label" data-translate="theme">Theme</label>
                        <select id="theme-select" class="form-control">
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label class="form-label" data-translate="number_format">Number Format</label>
                        <select id="number-format-select" class="form-control">
                            <option value="auto" data-translate="format_number_auto">K/M/B/T</option>
                            <option value="scientific" data-translate="format_number_scientific">Scientific</option>
                            <option value="engineering" data-translate="format_number_engineering">Engineering</option>
                        </select>
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="reset-save" class="btn btn--secondary">Reset Save</button>
                    <button id="settings-close" class="btn btn--primary">Close</button>
                </div>
            </div>
        </div>

        <!-- Help Modal -->
        <div id="help-modal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <h3 data-translate="help">Pomoc</h3>
                <div class="help-content">
                    <p data-translate="help_content">Rozwijaj karierƒô, zdobywaj Biuro-Punkty (BP) i odblokowuj zadania.

Wydawaj Soft Skills na ulepszenia.

NOWA FUNKCJA - Soft Skill Cap:

‚Ä¢ PoczƒÖtkowo presti≈º daje maksymalnie 1 Soft Skill

‚Ä¢ Odblokuj achievement "Mistrz presti≈ºu" (10 presti≈ºy) ALBO

‚Ä¢ Kup "Prze≈Çomowy kurs" na biurku (12 SS)

‚Ä¢ Po odblokowaniu: otrzymasz pe≈ÇnƒÖ liczbƒô SS za presti≈º!

Mi≈Çej gry! üçÄ</p>
                </div>
                <div class="modal-actions">
                    <button id="help-close" class="btn btn--primary">Close</button>
                </div>
            </div>
        </div>

        <!-- Onboarding Modal -->
        <div id="onboarding-modal" class="modal hidden">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <h3 data-translate="onboarding_title">Witaj w Korposzczur!</h3>
                <div class="help-content">
                    <p data-translate="onboarding_body">Zosta≈Çe≈õ w≈Ça≈õnie zatrudniony na pozycjƒô szeregowego pracownika w korporacji.

Rozwijaj karierƒô, zdobywaj

**Biuro-Punkty (BP)** i odblokowuj zadania. Od Ciebie zale≈ºy jak potoczy siƒô gra. Powodzenia!</p>
                </div>
                <div class="modal-actions">
                    <button id="onboarding-close" class="btn btn--primary" data-translate="onboarding_close">Zaczynam!</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>