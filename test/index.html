<!DOCTYPE html>
<html lang="pl" data-color-scheme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korposzczur - Corporate Idle Game</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="game-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-title-container">
                    <img src="korposzczur-logo.png" alt="Korposzczur Logo" class="korpo-logo">
                    <h1 class="game-title" data-translate="game_title">Korposzczur</h1>
                </div>
                
                <div class="currency-display">
                    <div class="currency-item">
                        <span class="currency-label" data-translate="biuro_punkty">Biuro-Punkty</span>
                        <span class="currency-value" id="bp-display">0</span>
                    </div>
                    <div class="currency-item">
                        <span class="currency-label" data-translate="soft_skills">Soft Skills</span>
                        <span class="currency-value" id="soft-skills-display">0</span>
                    </div>
                    
                    <!-- Energy Dropdown System -->
                    <div class="energy-dropdown">
                        <button id="energy-button">
                            <span>‚ö° <span id="energy-value">100</span>/100</span>
                            <span>‚ñº</span>
                        </button>
                        <div class="energy-menu" id="energy-menu">
                            <button class="energy-option" data-skill="coffeeBreak" id="coffee-break-option">
                                ‚òï Przerwa na kawƒô (25‚ö°) - x2 BP przez 15 min
                            </button>
                            <button class="energy-option" data-skill="focusMode" id="focus-mode-option">
                                üéØ Tryb skupienia (40‚ö°) - +50% BP przez 20 min
                            </button>
                            <button class="energy-option" data-skill="overtime" id="overtime-option">
                                ‚è∞ Nadgodziny (60‚ö°) - +1 slot przez 30 min
                            </button>
                            <hr style="margin: 4px 0; border: none; border-top: 1px solid #eee;">
                            <button class="energy-option" id="watch-ad-option">
                                üì∫ Obejrzyj reklamƒô (+20‚ö°)
                            </button>
                        </div>
                    </div>
                </div>

                <div class="header-buttons">
                    <button id="help-toggle" class="btn btn--secondary help-btn">?</button>
                    <button id="settings-toggle" class="btn btn--secondary settings-btn">‚öô</button>
                </div>
            </div>
        </header>

        <!-- Quote Marquee -->
        <div class="quote-marquee">
            <div class="quote-text" id="quote-text">Przeciƒôtny email w pracy jest czytany w mniej ni≈º 15 sekund.</div>
        </div>

        <!-- Tab Navigation -->
        <nav class="tab-navigation">
            <div class="tab-container">
                <button class="tab-btn active" data-tab="career" data-translate="tab_career">Kariera</button>
                <button class="tab-btn disabled" data-tab="desk" data-translate="tab_desk">Biurko</button>
                <button class="tab-btn" data-tab="achievements" data-translate="tab_achievements">Achievementy</button>
                <button class="tab-btn disabled" data-tab="challenges" data-translate="tab_challenges">Wyzwania</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            
            <!-- Career Tab -->
            <div id="career-tab" class="tab-content active">
                <div class="career-layout">
                    
                    <!-- Multi-buy Controls -->
                    <div id="multibuy-controls" class="multibuy-controls hidden">
                        <div class="multibuy-label">
                            <span data-translate="multibuy">Multi-buy:</span>
                        </div>
                        <div class="multibuy-buttons">
                            <button class="multibuy-btn btn btn--sm btn--outline active" data-amount="1">1x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="2">2x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="5">5x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="10">10x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="20">20x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline" data-amount="50">50x</button>
                            <button class="multibuy-btn btn btn--sm btn--outline hidden" data-amount="max" data-translate="buy_max">Max</button>
                        </div>
                        
                        <!-- Multi-buy Overlay for Amount Selection -->
                        <div id="multibuy-overlay" class="multibuy-overlay" style="display: none;">
                            <div class="overlay-content">
                                <div class="overlay-text" data-translate="buy_amount_question">Kup ile?</div>
                                <div class="overlay-buttons">
                                    <button class="btn btn--sm btn--outline" data-amount="1">1</button>
                                    <button class="btn btn--sm btn--outline" data-amount="5">5</button>
                                    <button class="btn btn--sm btn--outline" data-amount="10">10</button>
                                    <button class="btn btn--sm btn--outline" data-amount="25">25</button>
                                    <button class="btn btn--sm btn--outline" data-amount="max">Max</button>
                                </div>
                                <button class="btn btn--sm btn--secondary" data-translate="cancel">Anuluj</button>
                            </div>
                        </div>
                    </div>

                    <!-- Auto-buyer Controls -->
                    <div id="autobuyer-controls" class="autobuyer-controls hidden">
                        <div class="autobuyer-toggle">
                            <input type="checkbox" id="autobuyer-checkbox" class="toggle-switch">
                            <label for="autobuyer-checkbox" data-translate="auto_buyer">Auto-Kupowanie</label>
                        </div>
                    </div>

                    <!-- Tasks Section -->
                    <div class="tasks-section">
                        <h2 data-translate="task_section_title">Zadania</h2>
                        
                        <!-- Unlock Progress -->
                        <div class="unlock-progress">
                            <div class="progress-label" data-translate="next_unlock">Next Unlock</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="unlock-progress-fill" style="width: 0%;"></div>
                            </div>
                            <div class="progress-text" id="unlock-progress-text">0 / 75 BP</div>
                        </div>

                        <!-- Tasks Container -->
                        <div class="tasks-container" id="tasks-container">
                            <!-- Tasks will be dynamically generated -->
                        </div>
                    </div>

                    <!-- Prestige Section - ZMODYFIKOWANA Z SOFT SKILL CAP WARNINGS -->
                    <div class="prestige-section">
                        <h3 data-translate="prestige">Presti≈º</h3>
                        <div class="prestige-requirements" id="prestige-requirements">
                            <span data-translate="prestige_requirement_text">Requires 50,000 BP</span>
                        </div>
                        
                        <!-- NOWE: Prestige Gain Info z komunikatami o limitach -->
                        <div class="prestige-gain-info" id="prestige-gain-info">
                            <div class="prestige-potential-gain" id="prestige-potential-gain"></div>
                            <!-- NOWE: Soft Skill Cap Warning -->
                            <div class="prestige-cap-warning" id="prestige-cap-warning" style="display: none;">
                                <span class="warning-icon">‚ö†Ô∏è</span>
                                <span class="warning-text" data-translate="prestige_limit_warning">
                                    Obecnie mo≈ºesz zdobyƒá maksymalnie 1 Soft Skill za presti≈º. Odblokuj achievement 'Mistrz presti≈ºu' lub kup 'Prze≈Çomowy kurs' na biurku, by zwiƒôkszyƒá limit.
                                </span>
                            </div>
                            <!-- NOWE: Cap Unlocked Message -->
                            <div class="prestige-cap-unlocked" id="prestige-cap-unlocked" style="display: none;">
                                <span class="success-icon">‚úÖ</span>
                                <span class="success-text" data-translate="prestige_limit_unlocked">
                                    Limit Soft Skills za presti≈º zosta≈Ç odblokowany!
                                </span>
                            </div>
                        </div>

                        <button id="prestige-btn" class="btn btn--lg btn--primary btn--full-width disabled" data-translate="prestige_ready">
                            Wykonaj presti≈º
                        </button>
                        
                        <div class="prestige-info" id="prestige-info">
                            <span data-translate="prestige_warning">Uwaga. Presti≈º resetuje grƒô</span>
                        </div>

                        <!-- Prestige Break Info -->
                        <div id="prestige-break-info" class="prestige-break-info hidden">
                            <div class="prestige-break-label" data-translate="prestige_break">Presti≈º Break!</div>
                            <div class="prestige-break-desc" data-translate="prestige_break_desc">Multiple Soft Skills at once</div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Desk Tab - ZMODYFIKOWANA Z NOWYM DESK ITEM -->
            <div id="desk-tab" class="tab-content">
                <div class="desk-layout">
                    
                    <!-- Desk Visualization -->
                    <div class="desk-container">
                        <h3 data-translate="desk_title">Biuro Upgrade</h3>
                        <!-- Desk SVG will be dynamically populated -->
                        <div id="desk-visualization">
                            <!-- Desk items visualization here -->
                        </div>
                    </div>

                    <!-- Desk Shop - ROZSZERZONA O NOWY PRZEDMIOT -->
                    <div class="desk-shop">
                        <h3 data-translate="desk_shop_title">Sklep biurkowy</h3>
                        <div class="shop-items" id="shop-items">
                            <!-- Shop items bƒôdƒÖ dynamicznie generowane, w tym nowy desk_skill_cap_breaker -->
                        </div>
                    </div>

                </div>
            </div>

            <!-- Achievements Tab -->
            <div id="achievements-tab" class="tab-content">
                <div class="achievements-layout">
                    <h2 data-translate="tab_achievements">Achievementy</h2>
                    <div class="achievements-list" id="achievements-list">
                        <!-- Achievements will be dynamically generated -->
                    </div>
                </div>
            </div>

            <!-- Challenges Tab -->
            <div id="challenges-tab" class="tab-content">
                <div class="challenges-layout">
                    <h2 data-translate="tab_challenges">Wyzwania</h2>
                    <div class="challenges-list" id="challenges-list">
                        <!-- Challenges will be dynamically generated -->
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <h3 data-translate="settings">Ustawienia</h3>
            
            <div class="settings-options">
                <div class="setting-group">
                    <label class="form-label" data-translate="language_setting">Language / Jƒôzyk</label>
                    <select id="language-select" class="form-control">
                        <option value="pl">Polski</option>
                        <option value="en">English</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label class="form-label" data-translate="theme_setting">Theme / Motyw</label>
                    <select id="theme-select" class="form-control">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label class="form-label" data-translate="number_format">Format liczb / Number format</label>
                    <select id="number-format-select" class="form-control">
                        <option value="auto" data-translate="format_number_auto">K/M/B/T</option>
                        <option value="scientific" data-translate="format_number_scientific">Naukowa (1.23e+9)</option>
                        <option value="engineering" data-translate="format_number_engineering">In≈ºynieryjna (1.23E6, 4.5E6)</option>
                    </select>
                </div>
            </div>

            <div class="modal-actions">
                <button id="settings-close" class="btn btn--primary" data-translate="close">Close</button>
                <button id="reset-save" class="btn btn--secondary" data-translate="reset_save">Reset Save</button>
            </div>
        </div>
    </div>
	<!-- Welcome screen onboarding -->
	<div id="onboarding-modal" class="modal">
	  <div class="modal-backdrop"></div>
	  <div class="modal-content help-modal-content">
		<h2 data-translate="onboarding_title"></h2>
		<div data-translate="onboarding_body"></div>
		<div class="modal-actions">
		  <button id="onboarding-close" class="btn btn--primary" data-translate="onboarding_close"></button>
		</div>
	  </div>
	</div>
    <!-- Help Modal -->
    <div id="help-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <h3 data-translate="help">Pomoc</h3>
            <div class="help-content">
                <p data-translate="help_content">
                    Rozwijaj karierƒô, zdobywaj <strong>Biuro-Punkty (BP)</strong> i odblokowuj zadania. 
                    Wydawaj <strong>Soft Skills</strong> na ulepszenia.
                    <br><br>
                    <strong>NOWA FUNKCJA - Soft Skill Cap:</strong>
                    <br>
                    ‚Ä¢ PoczƒÖtkowo presti≈º daje maksymalnie 1 Soft Skill
                    <br>
                    ‚Ä¢ Odblokuj achievement "Mistrz presti≈ºu" (10 presti≈ºy) ALBO
                    <br>
                    ‚Ä¢ Kup "Prze≈Çomowy kurs" na biurku (12 SS) 
                    <br>
                    ‚Ä¢ Po odblokowaniu: otrzymasz pe≈ÇnƒÖ liczbƒô SS za presti≈º!
                    <br><br>
                    Mi≈Çej gry! üçÄ
                </p>
            </div>
            <div class="modal-actions">
                <button id="help-close" class="btn btn--primary" data-translate="close">Close</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>